<!DOCTYPE html><html><head title="Deciphering life: One bit at a time"><meta charset="utf-8"><meta content="width=device-width, initiali-scale=1.0, user-scalable=yes" name="viewport"><link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="/css/smartphone.css" media="only screen and (max-device-width:480px)" rel="stylesheet" type="text/css"><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                           m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-43966261-1', 'rmflight.github.io');
ga('send', 'pageview');

</script></head><body><div class="container-fluid well"><h1>Deciphering life: One bit at a time</h1><p>Robert M Flight's home on the web</p></div><div class="subnav"><ul class="nav nav-pills"><li><a href="/index.html">Home</a></li><li><a href="/pages/about.html">About</a></li><li><a href="/pages/archive.html">Blog Archive</a></li><li><a href="https://github.com/rmflight/researchBlog">Blog Source</a></li><li><a href="https://github.com/rmflight?tab=repositories">Github Repos</a></li></ul></div><div class="container-fluid"><div class="row-fluid"><div class="span1"></div><div class="span9"><h1>R, RStudio, and release and dev Bioconductor</h1>

<p>I have one <a href="http://bioconductor.org/packages/release/bioc/html/categoryCompare.html"><code>Bioconductor</code> package</a> that I am currently responsible for. Each <a href="http://master.bioconductor.org/developers/release-schedule/">bi-annual release</a> of <code>Bioconductor</code> requires testing and squashing errors, warnings and bugs in a given package. Doing this means being able to work with multiple versions of <code>R</code> and multiple versions of <code>Bioconductor</code> libraries on a single system (assuming that you do production work and development on the same machine, right?).</p>

<p>I really, really like <a href="http://rstudio.org"><code>RStudio</code></a> as my working <code>R</code> environment, as some of you have read before. So how do we get <code>RStudio</code> on our Linux system to respect which version of <code>R</code> and libraries we want to use?</p>

<h2>Setup</h2>

<p>This assumes that you have your <code>R</code> installs set somewhere properly, and a <strong>normal</strong> library for production level packages. You should install whichever <code>Bioconductor</code> packages you want into the <strong>normal</strong> library, and then make a copy of that. This copy will be your <strong>development</strong> library.</p>

<pre><code>cp -R productionLibrary developmentLibrary
</code></pre>

<p>I also assume that you are using a local (i.e. sits in your <em>home</em> directory) <code>.Renviron</code> file to control where <code>R</code> installs the packages.</p>

<h2>Changing Versions</h2>

<p><code>RStudio</code> really needs the environment variable <code>RSTUDIO_WHICH_R</code> set to know where <code>R</code> is, and <code>R</code> looks at <code>R_LIBS</code> in the <code>.Renviron</code> file. So I simply create two shell scripts that get sourced.</p>

<h3>useRDev.sh</h3>

<pre><code>#!/bin/sh
export RSTUDIO_WHICH_R=/pathToDevR/bin/R
echo &quot;R_LIBS=pathtoDevLibs&quot; &gt; .Renviron
</code></pre>

<p>Then I can simply do <code>source useRDev.sh</code> when I need to use the development <code>R</code> and library. <strong>Note</strong> that you will need to start <code>RStudio</code> from the shell for it to respect this environment variable. <code>RStudio</code> generally seems to install to <code>/usr/lib/rstudio/bin/rstudio</code>.</p>

<h3>resetR.sh</h3>

<pre><code>#!/bin/sh
export RSTUDIO_WHICH_R=/pathtoReleaseR/bin/R
echo &quot;R_LIBS=pathtoReleaseLibs&quot; &gt; .Renviron
</code></pre>

<p>This resets my variables by doint <code>source resetR.sh</code>.</p>

<h2>Bioconductor Dev Version</h2>

<p>To setup <code>Bioconductor</code> to use the develoment version, simply:</p>

<pre><code>source useRDev.sh
rstudio

# once in RStudio
library(BiocInstaller)
useDev()
biocLite(ask=F) # this will update all the installed bioconductor packages
</code></pre>

<p>I know this is not the most ideal situation, because I am rewriting over files, but it is working for me, and I thought it might help somone else.</p>
<h6>Posted on 2013-09-17</h6><div id="disqus_thread"></div>
  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'decipheringlife'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div><div class="span2"><a class="twitter-timeline" href="https://twitter.com/rmflight" data-widget-id="368415899268558848">Tweets by @rmflight</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<h3>Tags</h3><ul><li><a href="/tags/R.html">R (7)</a></li><li><a href="/tags/hiveplot.html">hiveplot (1)</a></li><li><a href="/tags/cytoscape.html">cytoscape (1)</a></li><li><a href="/tags/literateprogramming.html">literateprogramming (1)</a></li><li><a href="/tags/writing.html">writing (1)</a></li><li><a href="/tags/package.html">package (1)</a></li><li><a href="/tags/timhortons.html">timhortons (1)</a></li><li><a href="/tags/mapping.html">mapping (1)</a></li><li><a href="/tags/teaching.html">teaching (1)</a></li><li><a href="/tags/notebook.html">notebook (1)</a></li><li><a href="/tags/openscience.html">openscience (1)</a></li><li><a href="/tags/reproducibility.html">reproducibility (1)</a></li><li><a href="/tags/moving.html">moving (2)</a></li><li><a href="/tags/setup.html">setup (1)</a></li><li><a href="/tags/Samatha.html">Samatha (3)</a></li><li><a href="/tags/tutorial.html">tutorial (1)</a></li><li><a href="/tags/twitter.html">twitter (1)</a></li><li><a href="/tags/bioconductor.html">bioconductor (1)</a></li><li><a href="/tags/rstudio.html">rstudio (1)</a></li></ul><h3>Blog Roll</h3><ul><li><a href="http://www.r-bloggers.com/">R bloggers</a></li><li><a href="http://ivory.idyll.org/blog/">Living in an Ivory Basement</a></li><li><a href="http://bytesizebio.net/">Byte Size Biology</a></li><li><a href="http://robjhyndman.com/hyndsight/">Hyndsight</a></li><li><a href="http://solomonmessing.wordpress.com/blog/">Solomon Messing</a></li><li><a href="http://nsaunders.wordpress.com/">What You're Doing Is Rather Desperate</a></li><li><a href="http://yihui.name/en/">Yihui Xie's Blog</a></li><li><a href="http://simplystatistics.org/">Simply Statistics</a></li><li><a href="http://software-carpentry.org/">Software carpentry</a></li></ul></div></div><div class="span12"><div class="span2"></div><div class="span8"><footer class="footer"><p class="right back_to_top"><a href="#">&uArr; Page Top</a></p><p><a href="https://github.com/DASpringate/samatha">Built in R with Samatha</a></p></footer></div></div></div></body></html>